<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <data>
        <record id='product_analysis_view_form' model='ir.ui.view'>
            <field name="name">product.analysis.tree</field>
            <field name="model">product.analysis</field>
            <field name="arch" type="xml">
                <tree string="Product Analysis" create="0" edit="0" delete="0" decoration-info="state == 'draft'"
                      decoration-success="state == 'sale'">
                    <field name="product_id" optional="show"/>
                    <field name="quantity" optional="show"/>
                    <field name="purchase_price_estimate" optional="show"/>
                    <field name="factor" optional="show"/>
                    <field name="currency_rate_estimate" optional="show"/>
                    <field name="note" optional="show"/>
                    <field name="sale_id" optional="show"/>
                    <field name="sale_order_date" optional="show"/>
                    <field name="create_uid" optional="show"/>
                    <field name="state" optional="show"/>
                </tree>
            </field>
        </record>

        <record id='product_analysis_view_search' model='ir.ui.view'>
            <field name="name">product.analysis.search</field>
            <field name="model">product.analysis</field>
            <field name="arch" type="xml">
                <search string="Product Analysis">
                    <field name="product_id" string="Product"/>
                    <field name="sale_id" string="SO"/>
                    <field name="note" string="Note"/>
                    <field name="sale_order_date" string="Sale Order Date"/>
                    <field name="create_uid" string="Create By"/>
                    <filter string="Product" name="group_by_product"
                            context="{'group_by': 'product_id'}"/>
                    <filter string="Sale Order" name="group_by_sale_order"
                            context="{'group_by': 'sale_id'}"/>
                    <filter string="Sale Order Date" name="group_by_sale_order_date"
                            context="{'group_by': 'sale_order_date'}"/>
                    <filter string="states" name="group_by_states"
                            context="{'group_by': 'state'}"/>
                    <filter string="Create By" name="group_by_user"
                            context="{'group_by': 'create_uid'}"/>


                </search>
            </field>
        </record>


        <record id="action_product_analysis" model="ir.actions.act_window">
            <field name="name">Product Analysis</field>
            <field name="res_model">product.analysis</field>
            <field name="view_mode">tree,pivot</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    Ready to Analysis your Products and orders more efficiently ?
                </p>
                <p>
                    Let's create your first Product Analysis.
                </p>
            </field>
        </record>


        <menuitem id="product_analysis_menuitem" name="Product Analysis" sequence="40"
                  parent="sale.product_menu_catalog"
                  action="action_product_analysis"/>

    </data>
</odoo>