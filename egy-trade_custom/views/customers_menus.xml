<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- CRM -->

    <record id="action_partner_form_2" model="ir.actions.act_window">
            <field name="name">Customers</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">res.partner</field>
            <field name="view_mode">kanban,tree,form</field>
            <field name="domain">[('customer_rank','=',1),('user_id','=', uid)]</field>
            <field name="context">{'res_partner_search_mode': 'customer'}</field>
            <field name="search_view_id" ref="base.view_res_partner_filter"/>
            <field name="help" type="html">
              <p class="o_view_nocontent_smiling_face">
                Create a new customer in your address book
              </p><p>
                Odoo helps you easily track all activities related to a customer.
              </p>
            </field>
        </record>

    <record id="crm.res_partner_menu_customer" model="ir.ui.menu">
        <field name="groups_id" eval="[(6,0, [ref('sales_team.group_sale_salesman_all_leads')])]"/>
    </record>

    <menuitem
        id="res_partner_menu_customer"
        name="Customers"
        parent="crm.crm_menu_sales"
        action="action_partner_form_2"
        sequence="5"
        groups="egy-trade_custom.group_see_own_customers"/>
    <!-- Accounting -->
    <record id="res_partner_action_customer_2" model="ir.actions.act_window">
        <field name="name">Customers</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">res.partner</field>
        <field name="view_mode">kanban,tree,form</field>
        <field name="domain">[('customer_rank','=',1),('user_id','=', uid)]</field>
        <field name="context">{'search_default_customer': 1,'res_partner_search_mode': 'customer', 'default_is_company': True, 'default_customer_rank': 1}</field>
        <field name="help" type="html">
          <p class="o_view_nocontent_smiling_face">
            Create a new customer in your address book
          </p><p>
            Odoo helps you easily track all activities related to a customer.
          </p>
        </field>
    </record>

    <record id="account.menu_account_customer" model="ir.ui.menu">
        <field name="groups_id" eval="[(6,0, [ref('sales_team.group_sale_salesman_all_leads')])]"/>
    </record>
    <menuitem id="menu_account_customer"
              name="Customers"
              action="res_partner_action_customer_2"
              sequence="110"
              parent="account.menu_finance_receivables"
              groups="egy-trade_custom.group_see_own_customers"/>


    <!-- Sales -->

    <record id="sale.res_partner_menu" model="ir.ui.menu">
        <field name="groups_id" eval="[(6,0, [ref('sales_team.group_sale_salesman_all_leads')])]"/>
    </record>
    <menuitem id="res_partner_menu"
            parent="sale_order_menu"
            action="res_partner_action_customer_2"
            sequence="4"
            groups="egy-trade_custom.group_see_own_customers"/>
</odoo>